---
import Settings from "@settings";
import Section from "@components/Section.astro";
---

<Settings title="Themes">
    <Section class="settings-section">
        <form id="theme-switch-form">
            <h1 class="text-lg">Select Theme</h1>

            <button type="submit" id="theme-amoled" class="settings-submit amoled_theme">AMOLED</button>
            <button id="theme-mocha" class="settings-submit mocha_theme">Catppuccin - Mocha</button>
            <button id="theme-macchiato" class="settings-submit macchiato_theme">Catppuccin - Macchiato</button>
            <button id="theme-frappe" class="settings-submit frappe_theme">Catppuccin - Frapp√©</button>
            <button id="theme-latte" class="settings-submit latte_theme">Catppuccin - Latte</button>
            <button id="theme-baja" class="settings-submit baja_theme">Baja Blast</button>
        </form>
    </Section>

    <script type="module">
        function removeCustomTheme() {
            document.documentElement.style.removeProperty('--primary-bg-color');
            document.documentElement.style.removeProperty('--secondary-bg-color');
            document.documentElement.style.removeProperty('--settings-1');
            document.documentElement.style.removeProperty('--settings-2');
            document.documentElement.style.removeProperty('--settings-3');
            document.documentElement.style.removeProperty('--font-color');
            document.documentElement.style.removeProperty('--primary-text-color');
            document.documentElement.style.removeProperty('--nav-btn-color-darker');
            document.documentElement.style.removeProperty('--nav-btn-color');
        }

        document
            .getElementById("theme-amoled")
            .addEventListener("click", () => {
                localStorage.setItem("theme", "amoled");
                removeCustomTheme();
                document.documentElement.setAttribute("data-theme", "amoled");
            });

        document.getElementById("theme-mocha").addEventListener("click", () => {
            localStorage.setItem("theme", "mocha");
            removeCustomTheme();
            document.documentElement.setAttribute("data-theme", "mocha");
        });

        document
            .getElementById("theme-macchiato")
            .addEventListener("click", () => {
                localStorage.setItem("theme", "macchiato");
                removeCustomTheme();
                document.documentElement.setAttribute(
                    "data-theme",
                    "macchiato"
                );
            });

        document
            .getElementById("theme-frappe")
            .addEventListener("click", () => {
                localStorage.setItem("theme", "frappe");
                removeCustomTheme();
                document.documentElement.setAttribute("data-theme", "frappe");
            });

        document.getElementById("theme-latte").addEventListener("click", () => {
            localStorage.setItem("theme", "latte");
            removeCustomTheme();
            document.documentElement.setAttribute("data-theme", "latte");
        });

        document.getElementById("theme-baja").addEventListener("click", () => {
            localStorage.setItem("theme", "baja");
            removeCustomTheme();
            document.documentElement.setAttribute("data-theme", "baja");
        });

        document
            .getElementById("theme-switch-form")
            .addEventListener("submit", (e) => {
                e.preventDefault();

                notify.show("Saved", "success", 2000);
            });
    </script>
</Settings>
